(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[490],{8167:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/config",function(){return t(9797)}])},9797:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return c}});var a=t(4246),l=t(7378),o=t(5370),r=t.n(o),i=t(6677);function c(){let e=(0,i.useRouter)(),[n,t]=(0,l.useState)({nombre_empresa:"",logo:"",direccion:"",telefono:"",rfc:"",moneda:"MXN"}),[o,c]=(0,l.useState)(!0),[s,d]=(0,l.useState)(null),[m,u]=(0,l.useState)(null);function x(e){t({...n,[e.target.name]:e.target.value})}async function f(t){t.preventDefault(),d(null),u(null);let a=await fetch("/api/config/configuracion",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),l=await a.json();a.ok?r().fire({title:"\xa1Guardado!",text:"La configuraci\xf3n ha sido actualizada.",icon:"success",confirmButtonText:"OK"}).then(()=>{e.push("/menuPrincipal")}):d(l.error||"Error al actualizar")}return(0,l.useEffect)(()=>{fetch("/api/config/configuracion").then(e=>e.json()).then(e=>{e&&!e.error&&t(e),c(!1)}).catch(()=>{d("Error al cargar configuraci\xf3n"),c(!1)})},[]),(0,a.jsxs)("div",{className:"min-h-screen bg-[#091B26] flex flex-col p-6",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("button",{onClick:()=>window.location.href="/menuPrincipal",className:"px-4 py-2 rounded-xl bg-[#038C65] text-white font-semibold shadow hover:bg-[#027857]",children:"‚Üê Volver al men\xfa principal"})}),(0,a.jsx)("div",{className:"flex flex-1 items-center justify-center",children:(0,a.jsxs)("div",{className:"max-w-xl w-full bg-white rounded-xl shadow p-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-[#038C65] mb-6",children:"Configuraci\xf3n de la tienda"}),o?(0,a.jsx)("p",{children:"Cargando..."}):(0,a.jsxs)("form",{className:"space-y-4",onSubmit:f,children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-[#038C65] mb-1",htmlFor:"nombre_empresa",children:"Nombre de la tienda"}),(0,a.jsx)("input",{id:"nombre_empresa",name:"nombre_empresa",value:n.nombre_empresa,onChange:x,placeholder:"Nombre de la tienda",required:!0,className:"w-full rounded-xl border px-3 py-2 text-black bg-white mb-2"}),(0,a.jsx)("label",{className:"block text-sm font-medium text-[#038C65] mb-1",htmlFor:"direccion",children:"Direcci\xf3n"}),(0,a.jsx)("textarea",{id:"direccion",name:"direccion",value:n.direccion,onChange:x,placeholder:"Direcci\xf3n",required:!0,className:"w-full rounded-xl border px-3 py-2 text-black bg-white mb-2"}),(0,a.jsx)("label",{className:"block text-sm font-medium text-[#038C65] mb-1",htmlFor:"telefono",children:"Tel\xe9fono"}),(0,a.jsx)("input",{id:"telefono",name:"telefono",value:n.telefono,onChange:x,placeholder:"Tel\xe9fono",required:!0,className:"w-full rounded-xl border px-3 py-2 text-black bg-white mb-2"}),(0,a.jsx)("label",{className:"block text-sm font-medium text-[#038C65] mb-1",htmlFor:"rfc",children:"RFC"}),(0,a.jsx)("input",{id:"rfc",name:"rfc",value:n.rfc,onChange:x,placeholder:"RFC",className:"w-full rounded-xl border px-3 py-2 text-black bg-white mb-2"}),(0,a.jsx)("label",{className:"block text-sm font-medium text-[#038C65] mb-1",htmlFor:"moneda",children:"Moneda"}),(0,a.jsx)("input",{id:"moneda",name:"moneda",value:n.moneda,onChange:x,placeholder:"Moneda",required:!0,className:"w-full rounded-xl border px-3 py-2 text-black bg-white mb-2"}),(0,a.jsx)("button",{type:"submit",className:"w-full rounded-xl bg-[#038C65] text-white font-semibold px-4 py-2 mt-2 shadow hover:bg-[#027857]",children:"Guardar cambios"}),s&&(0,a.jsx)("div",{className:"text-red-600 mt-2",children:s}),m&&(0,a.jsx)("div",{className:"text-green-600 mt-2",children:m})]})]})})]})}},6677:function(e,n,t){e.exports=t(8739)}},function(e){e.O(0,[398,888,774,179],function(){return e(e.s=8167)}),_N_E=e.O()}]);